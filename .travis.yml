sudo: required
language: java
jdk: openjdk11
 
git:
  depth: 9999999

before_install:
- chmod +x gradlew
 
addons:
  sonarcloud:
    organization: "joostlek-github"
    token: $SONAR_TOKEN
 
script:
  - mvn clean package sonar:sonar -Dsonar.projectKey=joostlek_tosad -Dsonar.organization=joostlek-github -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=$SONAR_TOKEN
 
cache:
  directories:
    - '$HOME/.m2/repository'
    - '$HOME/.sonar/cache'
